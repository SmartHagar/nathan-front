(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2789],{5407:function(e,a,t){"use strict";var r=t(9268);t(6006);var n=t(9700),i=t(9977),l=t.n(i),o=t(5326),d=t.n(o);a.Z=e=>{let{control:a,required:t,name:i,errors:o,addClass:s,label:u,startDate:c,setStartDate:h}=e;return(0,r.jsxs)("div",{className:s,children:[(0,r.jsxs)("label",{className:"text-sm font-medium text-gray-700 tracking-wide block",children:[u,t&&(0,r.jsx)("span",{className:"ml-1 text-red-600",children:"*"})]}),(0,r.jsx)(n.Qr,{name:i,control:a,rules:{required:t},render:e=>{let{field:a}=e;return(0,r.jsx)(l(),{selected:c,onChange:e=>{if(e){h(e);let t=d()(e).format("YYYY-MM-DD");a.onChange(t)}else h(null),a.onChange("")},dateFormat:"dd/MM/yyyy",value:c||"",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"w-full border rounded-lg py-2 px-4"})}}),(null==o?void 0:o.type)==="required"&&(0,r.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[u," tidak boleh kosong"]})]})}},63:function(e,a,t){"use strict";var r=t(9268),n=t(3415),i=t(6394),l=t.n(i),o=t(6006),d=t(5883),s=t.n(d);a.Z=e=>{let{label:a,register:t,required:i,name:d,errors:u,addClass:c,accept:h,setValue:p,fileEdit:g,myFile:m,setMyFile:f}=e,[v,w]=(0,o.useState)(),y=e=>new Promise(()=>{if(e){var a;let t=(null==e?void 0:null===(a=e.type)||void 0===a?void 0:a.split("/"))||[],r=t[0];if("image"!==r)return b(e);console.log({splitType:t}),s().imageFileResizer(e,1500,1500,t[1],80,0,e=>{b(e)},"file")}else b(null)}),b=e=>{var a;if(e){let a=new FileReader;a.readAsDataURL(e),a.onloadend=()=>{f(a.result)}}let t=(null==e?void 0:null===(a=e.type)||void 0===a?void 0:a.split("/"))||[];w(t[0]),p(d,e)};return(0,r.jsxs)("div",{className:c,children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:a}),i&&(0,r.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,r.jsx)("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",id:"fileInput",type:"file",accept:h,onChange:e=>{var a;let t=(null===(a=e.target)||void 0===a?void 0:a.files[0])||null;y(t)}}),(0,r.jsx)("input",{type:"hidden",id:a,...t(d,{required:i})}),(0,r.jsxs)("div",{className:"flex gap-4 mt-2",children:[m&&"image"===v&&(0,r.jsx)(l(),{className:"rounded-lg",src:m,width:100,height:100,alt:""}),g&&"file"!==d&&(0,r.jsx)("div",{children:(0,r.jsx)(l(),{src:"".concat(n._n,"/").concat(g),width:100,height:100,alt:""})})]}),(null==u?void 0:u.type)==="required"&&(0,r.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[a," tidak boleh kosong"]})]})}},4176:function(e,a,t){"use strict";var r=t(9268);t(6006),a.Z=e=>{let{value:a,register:t,required:n,name:i,defaultChecked:l,id:o,errors:d}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex gap-1 items-start",children:[(0,r.jsx)("input",{type:"radio",value:a,id:o.toString(),name:i,...t(i,{required:n}),className:"form-radio h-6 w-4 text-primary",defaultChecked:l}),(0,r.jsx)("label",{htmlFor:o.toString(),children:a})]}),(null==d?void 0:d.type)==="required"&&(0,r.jsx)("p",{className:"text-red-500 font-inter italic text-sm",children:"Tidak boleh kosong"})]})}},4496:function(e,a,t){"use strict";var r=t(9268);t(6006);var n=t(7133),i=t(9700);a.Z=e=>{let{dataDb:a,body:t,control:l,required:o,name:d,errors:s,placeholder:u,addClass:c,label:h,defaultOptions:p=!0}=e,g={multiValue:(e,a)=>a.data.isFixed?{...e,backgroundColor:"gray"}:e,multiValueLabel:(e,a)=>a.data.isFixed?{...e,fontWeight:"bold",color:"white",paddingRight:6}:e,multiValueRemove:(e,a)=>a.data.isFixed?{...e,display:"none"}:e},m=(e,a)=>{let t=e[a];if("id"===a)return{value:t,label:""};if(!a.includes("."))return{value:"",label:t};{let[t,...r]=a.split("."),n=e[t];return m(n,r.join("."))}},f=()=>{let e=a&&a.map((e,a)=>{let r=t.map(a=>m(e,a)),n=r.map(e=>e.label).filter(e=>""!==e),i=n.join(n.length>1?" - ":"");return{value:r.find(e=>""!==e.value).value,label:i}});return e},v=e=>{var a;return null===(a=f())||void 0===a?void 0:a.filter(a=>a.label.toLowerCase().includes(e.toLowerCase()))},w=(e,a)=>{setTimeout(()=>{a(v(e))},1e3)};return(0,r.jsxs)("div",{className:c,children:[h&&(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:h}),o&&(0,r.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,r.jsx)(i.Qr,{name:d,control:l,rules:{required:o},render:e=>{var a;let{field:{onChange:t,value:i,ref:l}}=e;return(0,r.jsx)(n.Z,{cacheOptions:!0,defaultOptions:p,isClearable:!0,isSearchable:!0,loadOptions:w,placeholder:u,menuPlacement:"auto",menuPosition:"fixed",menuPortalTarget:document.body,styles:g,ref:l,value:(null===(a=f())||void 0===a?void 0:a.find(e=>e.value===i))||null,onChange:e=>t(e?e.value:e)})}}),(null==s?void 0:s.type)==="required"&&(0,r.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[h," tidak boleh kosong"]})]})}},4439:function(e,a,t){"use strict";t.d(a,{Z:function(){return h}});var r=t(9268),n=t(6006),i=t(9711),l=t(431),o=t(7304);t(3779),t(8431),t(9855);var d=(0,n.forwardRef)(function(e,a){var t=(0,i.u)(e);return n.createElement(o.S,(0,l.Z)({ref:a},t))}),s=t(5326),u=t.n(s),c=t(9700),h=e=>{let{label:a,start:t=2012,end:n=u()().format("YYYY"),control:i,required:l,name:o,errors:s,addClass:h,menuPosition:p="fixed",placeholder:g="Pilih Tahun"}=e,m=()=>{let e=[];for(let a=n;a>=t;a--)e.push({value:a,label:a});return e};return(0,r.jsxs)("div",{className:h,children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:a}),l&&(0,r.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,r.jsx)(c.Qr,{name:o,control:i,rules:{required:l},render:e=>{let{field:{onChange:a,value:t,name:n,ref:i}}=e;return(0,r.jsx)(d,{isClearable:!0,isSearchable:!0,options:m(),placeholder:g,menuPosition:p,menuPortalTarget:document.body,ref:i,value:t?m().find(e=>e.value===t):t,onChange:e=>a(e?e.value:e)})}}),(null==s?void 0:s.type)==="required"&&(0,r.jsx)("p",{className:"text-red-500 font-inter italic text-sm",children:"Tahun tidak boleh kosong"})]})}},1823:function(e,a,t){"use strict";var r=t(2561),n=t(4475),i=t(3415);let l=(0,r.Ue)((0,n.mW)((e,a)=>({dtPangkat:[],setPangkat:async a=>{let{page:t=1,limit:r=10,search:n}=a;try{let a=await (0,i.hi)({method:"get",url:"/personalia/pangkat",params:{limit:r,page:t,search:n}});return e(e=>({...e,dtPangkat:a.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}}})));a.Z=l},8468:function(e,a,t){"use strict";var r=t(2561),n=t(4475),i=t(3415),l=t(4406);let o=(0,r.Ue)((0,n.mW)((e,a)=>({setFormData:e=>{let a=new FormData;return a.append("pangkat_id",e.pangkat_id),a.append("tipe",e.tipe),a.append("NIK",e.NIK),a.append("NIDN",e.NIDN),a.append("nama",e.nama),a.append("tempat_lahir",e.tempat_lahir),a.append("tgl_lahir",e.tgl_lahir),a.append("no_hp",e.no_hp),a.append("jumlah_anak",e.jumlah_anak),a.append("jenkel",e.jenkel),a.append("pend_terakhir",e.pend_terakhir),a.append("alamat",e.alamat),a.append("thn_terima",e.thn_terima),a.append("foto",e.foto),a},dtPegawai:[],showPegawai:[],setPegawai:async a=>{let{page:t=1,limit:r=10,search:n,tipe:o}=a;try{let a=await l.Z.getState().setToken(),d=await (0,i.Sj)({method:"get",url:"/personalia/pegawai",headers:{Authorization:"Bearer ".concat(a)},params:{limit:r,page:t,search:n,tipe:o}});return e(e=>({...e,dtPegawai:d.data.data})),{status:"berhasil",data:d.data}}catch(e){var d;return{status:"error",error:null===(d=e.response)||void 0===d?void 0:d.data}}},setShowPegawai:async a=>{try{let t=await l.Z.getState().setToken(),r=await (0,i.Sj)({method:"get",url:"/personalia/pegawai/".concat(a),headers:{Authorization:"Bearer ".concat(t)}});return e(e=>({...e,showPegawai:r.data.data})),{status:"berhasil",data:r.data}}catch(e){var t;return{status:"error",error:null===(t=e.response)||void 0===t?void 0:t.data}}},addData:async t=>{let r=(null==t?void 0:t.foto)?a().setFormData(t):t;try{let a=await l.Z.getState().setToken(),t=await (0,i.Sj)({method:"post",url:"/personalia/pegawai",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"},data:r});return e(e=>({dtPegawai:{last_page:e.dtPegawai.last_page,current_page:e.dtPegawai.current_page,data:[t.data.data,...e.dtPegawai.data]}})),{status:"berhasil tambah",data:t.data}}catch(e){return{status:"error",data:e.response.data}}},removeData:async a=>{try{let t=await l.Z.getState().setToken(),r=await (0,i.Sj)({method:"delete",url:"/personalia/pegawai/".concat(a),headers:{Authorization:"Bearer ".concat(t)}});return e(e=>({dtPegawai:{last_page:e.dtPegawai.last_page,current_page:e.dtPegawai.current_page,data:e.dtPegawai.data.filter(e=>e.id!==a)}})),{status:"berhasil hapus",data:r.data}}catch(e){return{status:"error",data:e.response.data}}},updateData:async(t,r)=>{delete r.id;let n=(null==r?void 0:r.foto)?a().setFormData(r):r,o=await l.Z.getState().setToken();try{let a=await (0,i.Sj)({url:"/personalia/pegawai/".concat(t),method:"post",headers:(null==r?void 0:r.foto)?{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(o)}:{Authorization:"Bearer ".concat(o)},data:n,params:{_method:"PUT"}});return e(e=>({dtPegawai:{last_page:e.dtPegawai.last_page,current_page:e.dtPegawai.current_page,data:e.dtPegawai.data.map(e=>e.id===t?{...e,...a.data.data}:e)}})),{status:"berhasil update",data:a.data}}catch(e){return{status:"error",data:e.response.data}}},updatePegawai:async(t,r)=>{delete r.id;let n=(null==r?void 0:r.foto)?a().setFormData(r):r,o=await l.Z.getState().setToken();try{let a=await (0,i.Sj)({url:"/personalia/pegawai/".concat(t),method:"post",headers:(null==r?void 0:r.foto)?{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(o)}:{Authorization:"Bearer ".concat(o)},data:n,params:{_method:"PUT"}});return e(e=>({...e,showPegawai:a.data.data})),{status:"berhasil update",data:a.data}}catch(e){return{status:"error",data:e.response.data}}}})));a.Z=o},5883:function(e){(()=>{"use strict";var a={d:(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};a.r(t),a.d(t,{default:()=>n});var r=function(){var e;function a(){!function(e,a){if(!(e instanceof a))throw TypeError("Cannot call a class as a function")}(this,a)}return e=[{key:"changeHeightWidth",value:function(e,a,t,r,n,i){return t>r&&(e=Math.round(e*r/t),t=r),e>a&&(t=Math.round(t*a/e),e=a),n&&t<n&&(e=Math.round(e*n/t),t=n),i&&e<i&&(t=Math.round(t*i/e),e=i),{height:e,width:t}}},{key:"resizeAndRotateImage",value:function(e,a,t,r,n){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"jpeg",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=document.createElement("canvas"),s=e.width,u=e.height,c=this.changeHeightWidth(u,t,s,a,r,n);o&&(90===o||270===o)?(d.width=c.height,d.height=c.width):(d.width=c.width,d.height=c.height),s=c.width,u=c.height;var h=d.getContext("2d");return h.fillStyle="rgba(0, 0, 0, 0)",h.fillRect(0,0,s,u),h.imageSmoothingEnabled&&h.imageSmoothingQuality&&(h.imageSmoothingQuality="high"),o&&(h.rotate(o*Math.PI/180),90===o?h.translate(0,-d.width):180===o?h.translate(-d.width,-d.height):270===o?h.translate(-d.height,0):0!==o&&360!==o||h.translate(0,0)),h.drawImage(e,0,0,s,u),d.toDataURL("image/".concat(i),l/100)}},{key:"b64toByteArrays",value:function(e,a){a=a||"image/jpeg";for(var t=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),r=[],n=0;n<t.length;n+=512){for(var i=t.slice(n,n+512),l=Array(i.length),o=0;o<i.length;o++)l[o]=i.charCodeAt(o);var d=new Uint8Array(l);r.push(d)}return r}},{key:"b64toBlob",value:function(e,a){var t=this.b64toByteArrays(e,a);return new Blob(t,{type:a,lastModified:new Date})}},{key:"b64toFile",value:function(e,a,t){var r=this.b64toByteArrays(e,t);return new File(r,a,{type:t,lastModified:new Date})}},{key:"createResizedImage",value:function(e,t,r,n,i,l,o){var d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"base64",s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=new FileReader;if(!e)throw Error("File Not Found!");if(e.type&&!e.type.includes("image"))throw Error("File Is NOT Image!");c.readAsDataURL(e),c.onload=function(){var h=new Image;h.src=c.result,h.onload=function(){var c=a.resizeAndRotateImage(h,t,r,s,u,n,i,l),p="image/".concat(n);switch(d){case"blob":o(a.b64toBlob(c,p));break;case"base64":default:o(c);break;case"file":var g=e.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(n.toString());o(a.b64toFile(c,g,p))}}},c.onerror=function(e){throw Error(e)}}}],function(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a,e),a}();let n={imageFileResizer:function(e,a,t,n,i,l,o,d,s,u){return r.createResizedImage(e,a,t,n,i,l,o,d,s,u)}};e.exports=t})()}}]);