(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2145],{2528:function(a,t,e){Promise.resolve().then(e.bind(e,2160))},2160:function(a,t,e){"use strict";e.r(t),e.d(t,{default:function(){return i}});var r=e(9268),n=e(6006),s=e(1712),o=e(2743),d=e(1778),u=a=>{let{endValue:t,animationConfig:e,addClass:n}=a,[s,o]=(0,d.YD)({once:!0}),u=(0,d.q_)({number:o?t:0,from:{number:0},config:e,delay:1e3});return(0,r.jsx)(d.q.span,{ref:s,className:n,children:u.number.to(a=>Math.floor(a))})},i=function(a){let{}=a,[t,e]=(0,n.useState)(""),{setTotalTipe:i,dtPegawai:c}=(0,o.Z)();return(0,n.useEffect)(()=>{let a=s.Z.get("role")||"";return e(a),i(),()=>{}},[]),console.log({dtPegawai:c}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h5",{children:["Selamat datang ",(0,r.jsx)("span",{className:"capitalize",children:t})]}),(0,r.jsx)("div",{className:"flex md:flex-row flex-col gap-2 mt-4 items-center md:justify-center",children:null==c?void 0:c.map((a,t)=>(0,r.jsxs)("div",{className:"flex flex-col gap-2 gap-y-6 items-center bg-primary/10 p-2 rounded-lg w-40 h-36 justify-center",children:[(0,r.jsx)("p",{className:"capitalize text-xl",children:a.tipe}),(0,r.jsx)(u,{endValue:a.total,addClass:"text-2xl font-bold",animationConfig:d.vc.slow})]},t))})]})}},3415:function(a,t,e){"use strict";e.d(t,{I8:function(){return s},Sj:function(){return o},_n:function(){return n},hi:function(){return d}});var r=e(5953);let n="https://back.nathan-fst.my.id",s=r.Z.create({baseURL:"".concat(n,"/auth")}),o=r.Z.create({baseURL:"".concat(n,"/crud")}),d=r.Z.create({baseURL:"".concat(n,"/api")});r.Z.create({baseURL:"".concat(n,"/storage")})},2743:function(a,t,e){"use strict";var r=e(2561),n=e(4475),s=e(3415),o=e(3672);let d=(0,r.Ue)((0,n.mW)((a,t)=>({dtPegawai:[],setPegawai:async t=>{let{page:e=1,limit:r=10,search:n,tipe:o}=t;try{let t=await (0,s.hi)({method:"get",url:"/personalia/pegawai",params:{limit:r,page:e,search:n,tipe:o}});return a(a=>({...a,dtPegawai:t.data})),{status:"berhasil",data:t.data}}catch(a){return{status:"error",error:a.response.data}}},setApiDokumenPegawai:async t=>{let{search:e,page:r,id:n}=t;try{let t=await (0,s.hi)({method:"get",url:"/personalia/pegawai/dokumen/".concat(n),params:{search:e,page:r}});return o.Z.getState().setDokumen({page:r,search:e}),a(a=>({...a,dtPegawai:t.data.data})),{status:"berhasil",data:t.data}}catch(a){return{status:"error",error:a.response.data}}},setTotalTipe:async()=>{try{let t=await (0,s.hi)({method:"get",url:"/personalia/pegawai/total_tipe"});return a(a=>({...a,dtPegawai:t.data.data})),{status:"berhasil",data:t.data}}catch(a){return{status:"error",error:a.response.data}}}})));t.Z=d},4406:function(a,t,e){"use strict";var r=e(2561),n=e(4475),s=e(3415),o=e(1712);let d=(0,r.Ue)((0,n.mW)((a,t)=>({dtLogin:[],setToken:async()=>{let a=o.Z.get("token");return a},setLogin:async a=>{try{let t=await (0,s.I8)({method:"post",url:"/login",data:a});return{status:"success",data:t.data}}catch(a){return{status:"error",error:a.response.data}}},cekToken:async()=>{let e=await t().setToken();try{let t=await (0,s.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(e)}});return a(a=>({...a,dtLogin:t.data.data})),{status:"success",data:t.data}}catch(a){return{status:"error",error:a.response.data}}},setUpdate:async(e,r)=>{try{let n=await t().setToken(),o=await (0,s.I8)({method:"post",url:"/update/".concat(e),headers:{Authorization:"Bearer ".concat(n)},data:r});return a(a=>({...a,dtLogin:o.data.data})),{status:"success",data:o.data}}catch(a){return console.log(a.response.data),{status:"error",data:a.response.data}}}})));t.Z=d},3672:function(a,t,e){"use strict";var r=e(2561),n=e(4475),s=e(3415),o=e(4406),d=e(2743);let u=(0,r.Ue)((0,n.mW)((a,t)=>({setFormData:a=>{let t=new FormData;return t.append("pegawai_id",a.pegawai_id),t.append("judul",a.judul),t.append("gambar",a.gambar),t},dtDokumen:[],showDokumen:[],setDokumen:async t=>{let{page:e=1,limit:r=10,tipe:n,search:d}=t;try{let t=await o.Z.getState().setToken(),u=await (0,s.Sj)({method:"get",url:"/personalia/dokumen_pegawai",headers:{Authorization:"Bearer ".concat(t)},params:{limit:r,page:e,search:d,tipe:n}});return a(a=>({...a,dtDokumen:u.data.data})),{status:"berhasil",data:u.data}}catch(a){var u;return{status:"error",error:null===(u=a.response)||void 0===u?void 0:u.data}}},setShowDokumen:async t=>{try{let e=await o.Z.getState().setToken(),r=await (0,s.Sj)({method:"get",url:"/personalia/dokumen_pegawai/".concat(t),headers:{Authorization:"Bearer ".concat(e)}});return a(a=>({...a,showDokumen:r.data.data})),{status:"berhasil",data:r.data}}catch(a){var e;return{status:"error",error:null===(e=a.response)||void 0===e?void 0:e.data}}},addData:async e=>{let r=(null==e?void 0:e.gambar)?t().setFormData(e):e;try{let t=await o.Z.getState().setToken(),n=await (0,s.Sj)({method:"post",url:"/personalia/dokumen_pegawai",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"multipart/form-data"},data:r});return a(a=>({dtDokumen:{last_page:a.dtDokumen.last_page,current_page:a.dtDokumen.current_page,data:[n.data.data,...a.dtDokumen.data]}})),d.Z.getState().setApiDokumenPegawai({id:e.pegawai_id}),{status:"berhasil tambah",data:n.data}}catch(a){return console.log({error:a}),{status:"error",data:a.response.data}}},removeData:async t=>{try{let e=await o.Z.getState().setToken(),r=await (0,s.Sj)({method:"delete",url:"/personalia/dokumen_pegawai/".concat(t),headers:{Authorization:"Bearer ".concat(e)}});return a(a=>({dtDokumen:{last_page:a.dtDokumen.last_page,current_page:a.dtDokumen.current_page,data:a.dtDokumen.data.filter(a=>a.id!==t)}})),d.Z.getState().setApiDokumenPegawai({id:r.data.data.pegawai_id}),{status:"berhasil hapus",data:r.data}}catch(a){return{status:"error",data:a.response.data}}},updateData:async(e,r)=>{delete r.id;let n=(null==r?void 0:r.gambar)?t().setFormData(r):r,u=await o.Z.getState().setToken();try{let t=await (0,s.Sj)({url:"/personalia/dokumen_pegawai/".concat(e),method:"post",headers:(null==r?void 0:r.gambar)?{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(u)}:{Authorization:"Bearer ".concat(u)},data:n,params:{_method:"PUT"}});return a(a=>({dtDokumen:{last_page:a.dtDokumen.last_page,current_page:a.dtDokumen.current_page,data:a.dtDokumen.data.map(a=>a.id===e?{...a,...t.data.data}:a)}})),d.Z.getState().setApiDokumenPegawai({id:t.data.data.pegawai_id}),{status:"berhasil update",data:t.data}}catch(a){return{status:"error",data:a.response.data}}}})));t.Z=u}},function(a){a.O(0,[3674,1778,9253,7698,1744],function(){return a(a.s=2528)}),_N_E=a.O()}]);