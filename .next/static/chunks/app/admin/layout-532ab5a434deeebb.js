(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{787:function(e,a,n){Promise.resolve().then(n.bind(n,1065))},1065:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return b}});var t=n(9268),s=n(6639),r=n(593),i=n(5846),l=n.n(i),o=n(9032),c=n(6008),d=n(6394),u=n.n(d),m=n(6006),h=n(1712);let x=e=>{let{subMenus:a,name:n,icon:s,slug:r,index:i,pathname:o,openMenus:c}=e,d=c.includes(r);return(0,t.jsx)("div",{children:(0,t.jsxs)("details",{className:"group [&_summary::-webkit-details-marker]:hidden",open:d,children:[(0,t.jsxs)("summary",{className:"flex items-center justify-between px-3 py-2 transition-colors duration-300 transform rounded-lg hover:bg-primary hover:text-gray-200 }",children:[(0,t.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("span",{children:s}),(0,t.jsx)("span",{className:"mx-2 text-sm font-medium",children:n})]}),(0,t.jsx)("span",{className:"shrink-0 transition duration-300 group-open:-rotate-180",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a&&a.map((e,a)=>{let n=o===e.href;return(0,t.jsxs)("div",{className:"ml-4",children:[!e.subMenus&&(0,t.jsx)(l(),{href:e.href,className:"flex items-center mx-3 py-2 transition-colors duration-300 transform rounded-lg hover:bg-primary/50 hover:text-gray-200 ".concat(n&&"border-b-2 border-primary text-primary bg-white/50"),children:(0,t.jsx)("span",{className:"mx-2 text-sm font-medium",children:e.name})}),e.subMenus&&x({subMenus:e.subMenus,name:e.name,icon:e.icon,slug:e.slug,index:a,pathname:o,openMenus:c})]},a)})]})},i)};var f=()=>{let[e,a]=(0,m.useState)(!1),[n,s]=(0,m.useState)([]),r=(0,c.useRouter)(),i=(0,c.usePathname)(),d=e=>{for(let a of e){if(a.href===i){let e=null==i?void 0:i.split("/");e.splice(0,1),s(e)}a.subMenus&&d(a.subMenus)}};(0,m.useEffect)(()=>(d(o.Z),()=>{}),[i]);let f=async()=>{a(!0),h.Z.remove("token"),h.Z.remove("role"),r.push("/"),a(!1)};return(0,t.jsxs)("aside",{className:"flex flex-col w-64 h-screen px-5 overflow-y-auto",children:[(0,t.jsx)("div",{className:"flex items-center mt-2 gap-2 justify-center",children:(0,t.jsx)("div",{className:"relative h-[75px] w-20",children:(0,t.jsx)(u(),{alt:"logo",fill:!0,sizes:"(100vw, 100vh)",style:{objectFit:"contain",objectPosition:"center",width:"100%",height:"100%"},src:"/images/uogp.png"})})}),(0,t.jsx)("div",{className:"mt-4 mb-2 mx-auto",children:(0,t.jsx)("span",{className:"px-3 text-sm font-semibold text-black uppercasetext-gray-400",children:"Menu"})}),(0,t.jsxs)("div",{className:"flex flex-col justify-between flex-1 pt-2 border-t",children:[(0,t.jsx)("nav",{className:"-mx-3 space-y-6 ",children:(0,t.jsx)("div",{className:"space-y-3 text-slate-800",children:o.Z.map((e,a)=>{let{name:s,href:r,icon:o,subMenus:c,slug:d}=e,u=i===r;return c?x({subMenus:c,name:s,icon:o,slug:d,index:a,pathname:i,openMenus:n}):(0,t.jsx)("div",{children:(0,t.jsxs)(l(),{href:r,className:"flex items-center px-3 py-2 transition-colors duration-300 transform rounded-lg hover:bg-primary/50 hover:text-gray-200 ".concat(u&&"border-b-2 border-primary text-primary bg-white/50"),children:[(0,t.jsx)("span",{children:o}),(0,t.jsx)("span",{className:"mx-2 text-sm font-medium",children:s})]})},a)})})}),(0,t.jsx)("div",{children:e?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsx)("button",{onClick:f,className:"flex items-center px-3 py-2 transition-colors duration-300 transform rounded-lg text-primary hover:underline hover:text-gray-200",children:(0,t.jsx)("span",{children:"Sign Out"})})})]})]})},p=n(4406),g=n(8136),j=n(5366),b=e=>{let[a,n]=(0,m.useState)(!0),[i,l]=(0,m.useState)(!1),o=(0,c.usePathname)(),d=(0,c.useRouter)(),{cekToken:u}=(0,p.Z)(),h=async()=>{var e;let a=await u();if(null==a?void 0:a.error)d.push("/");else{let{user:n}=null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.data;console.log({user:n}),"pegawai"===n.hak&&d.push("pegawai")}return a};(0,m.useEffect)(()=>(h(),l(!1),()=>{}),[o]);let x=async()=>{let e=await h();(null==e?void 0:e.error)||n(!1)};return((0,m.useEffect)(()=>(x(),console.log("pertama render"),()=>{}),[]),a)?(0,t.jsx)("div",{className:"flex min-h-screen h-screen justify-center items-center",children:(0,t.jsx)(r.Z,{})}):(0,t.jsx)(j.Z,{children:(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex min-h-screen h-screen text-black bg-bg",children:[(0,t.jsx)("aside",{className:"w-[18rem] z-50 lg:block ".concat(i?"block absolute bg-bg":"hidden"),children:(0,t.jsx)(f,{})}),(0,t.jsxs)("div",{className:"flex h-full w-full overflow-hidden p-1 rounded-lg flex-col",children:[(0,t.jsxs)("div",{className:"mb-1 flex items-center justify-between lg:-mx-4 lg:-mt-2 lg:block",children:[(0,t.jsx)(s.Z,{}),(0,t.jsx)("div",{className:"lg:hidden mr-2 text-xl cursor-pointer",onClick:()=>{l(!i)},children:(0,t.jsx)(g.vSj,{})})]}),(0,t.jsx)("div",{className:"bg-white h-full overflow-hidden p-2 drop-shadow-2xl shadow-black rounded-lg",children:e.children})]})]})})})}},6639:function(e,a,n){"use strict";var t=n(9268);a.Z=()=>(0,t.jsxs)("div",{className:"backdrop-blur-sm py-2",children:[(0,t.jsx)("h4",{className:"text-gray-700 font-semibold text-center hidden lg:block",children:"Bidang SDM Universitas Ottow Geissler"}),(0,t.jsx)("h6",{className:"text-gray-700 font-semibold text-start lg:hidden",children:"Bidang SDM UOGP"})]})},593:function(e,a,n){"use strict";var t=n(9268);n(6006),a.Z=()=>(0,t.jsx)("div",{children:"Loading..."})},9032:function(e,a,n){"use strict";n.d(a,{l:function(){return i}});var t=n(9268),s=n(8136);let r=[{name:"Home",href:"/admin",icon:(0,t.jsx)(s.ufG,{})},{name:"Tata Usaha",href:"#",slug:"tata-usaha",icon:(0,t.jsx)(s._19,{}),subMenus:[{name:"Jenis",href:"/admin/tata-usaha/jenis"},{name:"Surat Masuk",href:"/admin/tata-usaha/surat/masuk"},{name:"Surat Keluar",href:"/admin/tata-usaha/surat/keluar"},{name:"Dokumen Lainnya",href:"/admin/tata-usaha/dokumen"}]},{name:"Pangkat",href:"/admin/pangkat",icon:(0,t.jsx)(s.FaF,{})},{name:"Jabatan",href:"/admin/jabatan",icon:(0,t.jsx)(s.YNX,{})},{name:"Personalia",href:"#",slug:"personalia",icon:(0,t.jsx)(s.pZ5,{}),subMenus:[{name:"Pegawai",href:"#",slug:"pegawai",subMenus:[{name:"Dosen",href:"/admin/personalia/pegawai/dosen"},{name:"Tendik",href:"/admin/personalia/pegawai/tendik"},{name:"Pekarya",href:"/admin/personalia/pegawai/pekarya"}]},{name:"Riwayat",href:"#",slug:"riwayat",subMenus:[{name:"Jabatan",href:"/admin/personalia/riwayat/jabatan"},{name:"Pendidikan",href:"/admin/personalia/riwayat/pendidikan"},{name:"Pekerjaan",href:"/admin/personalia/riwayat/pekerjaan"}]},{name:"Dokumen",href:"/admin/personalia/dokumen"}]}],i=[{name:"Home",href:"/pegawai",icon:(0,t.jsx)(s.ufG,{})},{name:"Riwayat",href:"#",slug:"riwayat",icon:(0,t.jsx)(s._19,{}),subMenus:[{name:"Jabatan",href:"/pegawai/riwayat/jabatan"},{name:"Pendidikan",href:"/pegawai/riwayat/pendidikan"},{name:"Pekerjaan",href:"/pegawai/riwayat/pekerjaan"}]},{name:"Dokumen",href:"/pegawai/dokumen",icon:(0,t.jsx)(s.FaF,{})},{name:"Akun",href:"/pegawai/akun",icon:(0,t.jsx)(s.B2N,{})}];a.Z=r},5366:function(e,a,n){"use strict";n.d(a,{N:function(){return i}});var t=n(9268),s=n(6006),r=n(1712);let i=(0,s.createContext)({role:null});a.Z=e=>{let{children:a}=e,[n,l]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=r.Z.get("role");return l(e||null),()=>{l(null)}},[]),(0,t.jsx)(i.Provider,{value:{role:n},children:a})}},3415:function(e,a,n){"use strict";n.d(a,{I8:function(){return r},Sj:function(){return i},_n:function(){return s},hi:function(){return l}});var t=n(5953);let s="https://back.nathan-fst.my.id",r=t.Z.create({baseURL:"".concat(s,"/auth")}),i=t.Z.create({baseURL:"".concat(s,"/crud")}),l=t.Z.create({baseURL:"".concat(s,"/api")});t.Z.create({baseURL:"".concat(s,"/storage")})},4406:function(e,a,n){"use strict";var t=n(2561),s=n(4475),r=n(3415),i=n(1712);let l=(0,t.Ue)((0,s.mW)((e,a)=>({dtLogin:[],setToken:async()=>{let e=i.Z.get("token");return e},setLogin:async e=>{try{let a=await (0,r.I8)({method:"post",url:"/login",data:e});return{status:"success",data:a.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let n=await a().setToken();try{let a=await (0,r.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(n)}});return e(e=>({...e,dtLogin:a.data.data})),{status:"success",data:a.data}}catch(e){return{status:"error",error:e.response.data}}},setUpdate:async(n,t)=>{try{let s=await a().setToken(),i=await (0,r.I8)({method:"post",url:"/update/".concat(n),headers:{Authorization:"Bearer ".concat(s)},data:t});return e(e=>({...e,dtLogin:i.data.data})),{status:"success",data:i.data}}catch(e){return console.log(e.response.data),{status:"error",data:e.response.data}}}})));a.Z=l}},function(e){e.O(0,[6680,3674,1092,8487,9253,7698,1744],function(){return e(e.s=787)}),_N_E=e.O()}]);