(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2729],{4215:function(e,a,l){!function(e){e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,a){return(12===e&&(e=0),"pagi"===a)?e:"siang"===a?e>=11?e:e+12:"sore"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,l){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(l(5326))},9212:function(e,a,l){Promise.resolve().then(l.bind(l,9178))},9178:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return y}});var t=l(9268),s=l(6006),n=l(593),i=l(5437),r=l(9639),d=l(8468),o=l(7808),u=e=>{var a,l;let{showModal:s,setShowModal:n,rowData:i}=e;return(0,t.jsx)(o.Z,{title:"".concat(null==i?void 0:i.nama),showModal:s,setShowModal:n,width:"500px",children:(0,t.jsxs)("table",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Email"}),(0,t.jsx)("td",{className:"px-2",children:":"}),(0,t.jsx)("td",{children:null==i?void 0:null===(a=i.user)||void 0===a?void 0:a.email})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Password"}),(0,t.jsx)("td",{className:"px-2",children:":"}),(0,t.jsx)("td",{children:null==i?void 0:null===(l=i.user)||void 0===l?void 0:l.show_password})]})]})})},m=l(8136),c=l(3415),h=l(5366),p=e=>{let{setDelete:a,setEdit:l,search:o,tipe:p}=e,{setPegawai:_,dtPegawai:x}=(0,d.Z)(),[g,j]=(0,s.useState)(1),[k,f]=(0,s.useState)(10),[v,b]=(0,s.useState)(!0),[N,w]=(0,s.useState)(!1),[S,M]=(0,s.useState)(),{role:Z}=(0,s.useContext)(h.N),D=async()=>{await _({page:g,limit:k,search:o,tipe:p}),b(!1)};(0,s.useEffect)(()=>(D(),()=>{}),[g,k]),(0,s.useEffect)(()=>{j(1),D()},[o,p]);let L=["No","NIK","Nama","Golongan","Thn. Terima","Foto","Aksi"],y=["NIK","nama","pangkat_gol_ru","thn_terima","foto"];"dosen"===p&&(L.splice(2,0,"NIDN"),y.splice(1,0,"NIDN"));let C=e=>{window.open("".concat(c._n,"/export/biodata/").concat(e),"_blank")};return(0,t.jsxs)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:[(0,t.jsx)(u,{showModal:N,setShowModal:w,rowData:S}),v?(0,t.jsx)(n.Z,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)(r.Z,{headTable:L,tableBodies:y,dataTable:x.data,page:g,limit:k,setEdit:l,setDelete:a,ubah:"personalia"===Z,hapus:"personalia"===Z,costume:e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.s$b,{size:20,title:"Cetak Biodata",className:"cursor-pointer hover:text-link",onClick:()=>C(e.id)}),"personalia"===Z&&(0,t.jsx)(m.Hfo,{size:20,className:"cursor-pointer hover:text-link",onClick:()=>(M(e),w(!0))})]})})}),(null==x?void 0:x.last_page)>1&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(i.Z,{currentPage:null==x?void 0:x.current_page,totalPages:null==x?void 0:x.last_page,setPage:j})})]})]})},_=l(366),x=l(2985),g=l(9442),j=l(9700),k=l(5407),f=l(63),v=l(4176),b=l(4496),N=l(4439),w=l(1823);l(6760);var S=e=>{var a;let{register:l,errors:n,control:i,dtEdit:r,watch:d,setValue:o,showModal:u,tgl_lahir:m,setTgl_lahir:c,tipe:h,myFile:p,setMyFile:_}=e,{setPangkat:g,dtPangkat:j}=(0,w.Z)(),S=async e=>{let{search:a}=e;await g({search:a})};return(0,s.useEffect)(()=>{S({})},[u]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{label:"NIK",name:"NIK",register:l,required:!0,minLength:3,errors:n.NIK,addClass:"col-span-4"}),(0,t.jsx)(x.Z,{label:"Nama",name:"nama",register:l,required:!0,minLength:3,errors:n.nama,addClass:"col-span-4"}),"dosen"===h&&(0,t.jsx)(x.Z,{label:"NIDN",name:"NIDN",register:l,addClass:"col-span-4"}),(null==j?void 0:j.data)&&(0,t.jsx)(b.Z,{label:"Pangkat",placeholder:"Pilih Pangkat",name:"pangkat_id",dataDb:null==j?void 0:j.data,body:["id","gol","ruang"],control:i,required:!0,errors:n.pangkat_id,addClass:"col-span-4"}),(0,t.jsx)("div",{className:"col-span-4 lg:col-span-2",children:(0,t.jsxs)("div",{className:"w-[100%]",children:[(0,t.jsx)("label",{className:"block py-2 text-sm font-medium text-gray-700 tracking-wide",children:"Jenis Kelamin"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(v.Z,{id:"Laki-laki",name:"jenkel",value:"Laki-laki",register:l,required:!0,defaultChecked:(null==r?void 0:r.jenkel)==="Laki-laki"}),(0,t.jsx)(v.Z,{id:"Perempuan",name:"jenkel",value:"Perempuan",register:l,required:!0,defaultChecked:(null==r?void 0:r.jenkel)==="Perempuan"})]}),(null==n?void 0:null===(a=n.jenkel)||void 0===a?void 0:a.type)==="required"&&(0,t.jsx)("p",{className:"text-red-500 font-inter italic text-sm",children:"Jenis kelamin tidak boleh kosong"})]})}),(0,t.jsx)(x.Z,{label:"Tempat Lahir",name:"tempat_lahir",register:l,required:!0,minLength:3,errors:n.tempat_lahir,addClass:"col-span-4 lg:col-span-2"}),(0,t.jsx)(k.Z,{label:"Tgl. Lahir",name:"tgl_lahir",control:i,startDate:m,setStartDate:c,required:!0,errors:n.tgl_lahir,addClass:"col-span-4 lg:col-span-2"}),(0,t.jsx)(x.Z,{label:"No. Hp",name:"no_hp",register:l,required:!0,minLength:3,errors:n.no_hp,addClass:"col-span-4 lg:col-span-2"}),(0,t.jsx)(x.Z,{label:"Pend. Terakhir",name:"pend_terakhir",register:l,required:!0,minLength:1,errors:n.pend_terakhir,addClass:"col-span-4 lg:col-span-2"}),(0,t.jsx)(N.Z,{label:"Tahun Terima",name:"thn_terima",control:i,start:new Date().getFullYear()-50,end:new Date().getFullYear(),required:!0,errors:n.thn_terima,addClass:"col-span-4 lg:col-span-1"}),(0,t.jsx)(x.Z,{label:"Jumlah_anak",name:"jumlah_anak",register:l,required:!0,minLength:1,type:"number",errors:n.jumlah_anak,addClass:"col-span-4 lg:col-span-1"}),(0,t.jsx)(x.Z,{label:"Alamat",name:"alamat",register:l,required:!0,minLength:1,errors:n.alamat,addClass:"col-span-4"}),(0,t.jsx)(f.Z,{label:"Foto",name:"foto",register:l,accept:"image/*",required:!0,errors:n.foto,addClass:"col-span-4",setValue:o,fileEdit:null==r?void 0:r.foto,myFile:p,setMyFile:_})]})},M=e=>{let{showModal:a,setShowModal:l,dtEdit:i,tipe:r}=e,[u,m]=(0,s.useState)(new Date("01-01-1980")),[c,h]=(0,s.useState)(!1),[p,k]=(0,s.useState)(),{addData:f,updateData:v}=(0,d.Z)(),{register:b,handleSubmit:N,setValue:w,control:M,formState:{errors:Z},watch:D}=(0,j.cI)(),L=()=>{w("id",""),w("NIK",""),w("pangkat_id",""),w("tipe",r),w("NIDN",""),w("nama",""),w("tempat_lahir",""),m(new Date("01-01-1980")),w("tgl_lahir","1980-01-01"),w("no_hp",""),w("jumlah_anak",0),w("jenkel",""),w("pend_terakhir",""),w("alamat",""),w("thn_terima",""),w("foto",""),k(null)};(0,s.useEffect)(()=>{i?(w("id",i.id),w("pangkat_id",i.pangkat_id),w("NIK",i.NIK),w("tipe",i.tipe),w("NIDN",i.NIDN||""),w("nama",i.nama),w("tempat_lahir",i.tempat_lahir),w("tgl_lahir",i.tgl_lahir),m(new Date(i.tgl_lahir)),w("no_hp",i.no_hp),w("jumlah_anak",i.jumlah_anak),w("jenkel",i.jenkel),w("pend_terakhir",i.pend_terakhir),w("alamat",i.alamat),w("thn_terima",parseInt(i.thn_terima)),w("foto",i.foto)):L()},[a,i]);let y=async e=>{if(h(!0),console.log({row:e}),i){let{data:a}=await v(i.id,e);(0,g.Z)({event:a}),l(!1)}else{let{data:a}=await f(e);console.log({data:a}),(0,g.Z)({event:a}),(null==a?void 0:a.type)!=="success"||L()}setTimeout(()=>{h(!1)},1500)};return(0,t.jsx)(o.Z,{title:"Form Pegawai",showModal:a,setShowModal:l,children:(0,t.jsxs)("form",{onSubmit:N(y),children:[(0,t.jsx)(x.Z,{name:"id",register:b,type:"hidden"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:(0,t.jsx)(S,{register:b,errors:Z,dtEdit:i,control:M,watch:D,setValue:w,showModal:a,tgl_lahir:u,setTgl_lahir:m,tipe:r,myFile:p,setMyFile:k})}),(0,t.jsx)("div",{children:c?(0,t.jsx)(n.Z,{}):(0,t.jsx)(_.Z,{text:"Simpan",onClick:N(y)})})]})})},Z=l(686),D=l(8919),L=l(8350),y=e=>{let{params:a}=e,{removeData:l}=(0,d.Z)(),[n,i]=(0,s.useState)(!1),[r,o]=(0,s.useState)(!1),[u,m]=(0,s.useState)(),[c,x]=(0,s.useState)(),[j,k]=(0,s.useState)(""),{role:f}=(0,s.useContext)(h.N),v=async e=>{let{id:a,isDelete:t}=e;if(m(a),t){let{data:e}=await l(u);(0,g.Z)({event:e}),o(!1)}else o(!0)};return(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(D.Toaster,{}),(0,t.jsx)(M,{dtEdit:c,showModal:n,setShowModal:i,tipe:a.tipe}),(0,t.jsx)(Z.Z,{showDel:r,setShowDel:o,setDelete:v}),"personalia"==f&&(0,t.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("p",{children:[(0,t.jsxs)("span",{className:"capitalize",children:["Silahkan Mengolah data ",a.tipe,"."," "]}),(0,t.jsxs)("span",{children:["Klik pada tombol info untuk melihat email dan password"," ",a.tipe," "]})]})}),(0,t.jsx)("div",{children:(0,t.jsx)(_.Z,{addClass:"capitalize",text:"Tambah ".concat(a.tipe),onClick:()=>{i(!0),x(null)}})})]}),(0,t.jsx)(L.Z,{placeholder:"Cari Pegawai",onChange:e=>k(e)})]}),(0,t.jsx)(p,{setDelete:v,setEdit:e=>{i(!0),x(e)},search:j,tipe:a.tipe})]})}},5366:function(e,a,l){"use strict";l.d(a,{N:function(){return i}});var t=l(9268),s=l(6006),n=l(1712);let i=(0,s.createContext)({role:null});a.Z=e=>{let{children:a}=e,[l,r]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=n.Z.get("role");return r(e||null),()=>{r(null)}},[]),(0,t.jsx)(i.Provider,{value:{role:l},children:a})}},6008:function(e,a,l){e.exports=l(4e3)}},function(e){e.O(0,[6680,4550,3674,1092,9700,3088,3861,7133,3729,2789,9253,7698,1744],function(){return e(e.s=9212)}),_N_E=e.O()}]);