(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3980],{5359:function(a,e,l){Promise.resolve().then(l.bind(l,8351))},8351:function(a,e,l){"use strict";l.r(e),l.d(e,{default:function(){return _}});var s=l(9268),t=l(6006),i=l(593),n=l(5437),d=l(9639),r=l(7191),o=a=>{let{setDelete:e,setEdit:l,search:o}=a,{setRiwayatJabatan:c,dtRiwayatJabatan:u}=(0,r.Z)(),[h,x]=(0,t.useState)(1),[j,m]=(0,t.useState)(10),[p,b]=(0,t.useState)(!0),[w,f]=(0,t.useState)(""),g=async()=>{await c({page:h,limit:j,search:o,jenis:w}),b(!1)};return(0,t.useEffect)(()=>(g(),()=>{}),[h,j]),(0,t.useEffect)(()=>{x(1),g()},[o]),(0,s.jsx)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:p?(0,s.jsx)(i.Z,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"",children:(0,s.jsx)(d.Z,{headTable:["No","Nama","Jabatan","Mulai","Selesai","Aksi"],tableBodies:["pegawai.nama","jabatan.nama","mulai","seles"],dataTable:u.data,page:h,limit:j,setEdit:l,setDelete:e,ubah:!0,hapus:!0})}),(null==u?void 0:u.last_page)>1&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(n.Z,{currentPage:null==u?void 0:u.current_page,totalPages:null==u?void 0:u.last_page,setPage:x})})]})})},c=l(366),u=l(2985),h=l(7808),x=l(9442),j=l(9700),m=l(5407),p=l(4496),b=l(9879),w=l(2743);l(6760);var f=a=>{let{register:e,errors:l,control:i,dtEdit:n,watch:d,setValue:r,showModal:o,mulai:c,setMulai:u,seles:h,setSeles:x}=a,{setPegawai:j,dtPegawai:f}=(0,w.Z)(),{setJabatan:g,dtJabatan:v}=(0,b.Z)(),S=async a=>{let{search:e}=a;await j({search:e,tipe:"dosen"})},Z=async a=>{let{search:e}=a;await g({search:e})};return(0,t.useEffect)(()=>{S({}),Z({})},[o]),(0,s.jsxs)(s.Fragment,{children:[(null==f?void 0:f.data)&&(0,s.jsx)(p.Z,{label:"Pegawai",placeholder:"Pilih Pegawai",name:"pegawai_id",dataDb:null==f?void 0:f.data,body:["id","NIK","nama"],control:i,required:!0,errors:l.pegawai_id,addClass:"col-span-4"}),(null==v?void 0:v.data)&&(0,s.jsx)(p.Z,{label:"Jabatan",placeholder:"Pilih Jabatan",name:"jabatan_id",dataDb:null==v?void 0:v.data,body:["id","nama"],control:i,required:!0,errors:l.jabatan_id,addClass:"col-span-4"}),(0,s.jsx)(m.Z,{label:"Mulai",name:"mulai",control:i,startDate:c,setStartDate:u,required:!0,errors:l.mulai,addClass:"col-span-4 lg:col-span-2"}),(0,s.jsx)(m.Z,{label:"Selesai",name:"seles",control:i,startDate:h,setStartDate:x,addClass:"col-span-4 lg:col-span-2"})]})},g=a=>{let{showModal:e,setShowModal:l,dtEdit:i}=a,[n,d]=(0,t.useState)(""),[o,m]=(0,t.useState)(""),{addData:p,updateData:b}=(0,r.Z)(),{register:w,handleSubmit:g,setValue:v,control:S,formState:{errors:Z},watch:_}=(0,j.cI)(),D=()=>{v("id",""),v("pegawai_id",""),v("jabatan_id",""),d(""),v("mulai",""),m(""),v("seles","")};(0,t.useEffect)(()=>{i?(v("id",i.id),v("pegawai_id",i.pegawai_id),v("jabatan_id",i.jabatan_id),v("mulai",i.mulai),d(new Date(i.mulai)),v("seles",i.seles),m(new Date(i.seles))):D()},[e,i]);let N=async a=>{if(console.log({row:a}),i){let{data:e}=await b(i.id,a);(0,x.Z)({event:e}),l(!1)}else{let{data:e}=await p(a);console.log({data:e}),(0,x.Z)({event:e}),(null==e?void 0:e.type)!=="success"||D()}};return(0,s.jsx)(h.Z,{title:"Form RiwayatJabatan",showModal:e,setShowModal:l,children:(0,s.jsxs)("form",{onSubmit:g(N),children:[(0,s.jsx)(u.Z,{name:"id",register:w,type:"hidden"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:(0,s.jsx)(f,{register:w,errors:Z,dtEdit:i,control:S,watch:_,setValue:v,showModal:e,mulai:n,setMulai:d,seles:o,setSeles:m})}),(0,s.jsx)("div",{children:(0,s.jsx)(c.Z,{text:"Simpan",onClick:g(N)})})]})})},v=l(686),S=l(8919),Z=l(8350),_=()=>{let{removeData:a}=(0,r.Z)(),[e,l]=(0,t.useState)(!1),[i,n]=(0,t.useState)(!1),[d,u]=(0,t.useState)(),[h,j]=(0,t.useState)(),[m,p]=(0,t.useState)(""),b=async e=>{let{id:l,isDelete:s}=e;if(u(l),s){let{data:e}=await a(d);(0,x.Z)({event:e}),n(!1)}else n(!0)};return(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(S.x7,{}),(0,s.jsx)(g,{dtEdit:h,showModal:e,setShowModal:l}),(0,s.jsx)(v.Z,{showDel:i,setShowDel:n,setDelete:b}),(0,s.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,s.jsx)("div",{children:(0,s.jsx)("p",{children:(0,s.jsx)("span",{className:"capitalize",children:"Silahkan Mengolah data jabatan pegawai"})})}),(0,s.jsx)("div",{children:(0,s.jsx)(c.Z,{addClass:"capitalize",text:"Tambah Jabatan",onClick:()=>{l(!0),j(null)}})})]}),(0,s.jsx)(Z.Z,{placeholder:"Cari Pegawai",onChange:a=>p(a)})]}),(0,s.jsx)(o,{setDelete:b,setEdit:a=>{l(!0),j(a)},search:m})]})}}},function(a){a.O(0,[6680,4550,635,9218,3088,4925,9977,7133,3729,4940,9253,7698,1744],function(){return a(a.s=5359)}),_N_E=a.O()}]);