(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{787:function(e,a,t){Promise.resolve().then(t.bind(t,1065))},1065:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var n=t(9268),r=t(6639),s=t(593),i=t(5846),l=t.n(i),o=t(9032),c=t(6008),u=t(6394),d=t.n(u),m=t(6006),h=t(1712);let f=e=>{let{subMenus:a,name:t,icon:r,slug:s,index:i,pathname:o,openMenus:c}=e,u=c.includes(s);return(0,n.jsx)("div",{children:(0,n.jsxs)("details",{className:"group [&_summary::-webkit-details-marker]:hidden",open:u,children:[(0,n.jsxs)("summary",{className:"flex items-center justify-between px-3 py-2 transition-colors duration-300 transform rounded-lg hover:bg-primary hover:text-gray-200 }",children:[(0,n.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,n.jsx)("span",{children:r}),(0,n.jsx)("span",{className:"mx-2 text-sm font-medium",children:t})]}),(0,n.jsx)("span",{className:"shrink-0 transition duration-300 group-open:-rotate-180",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a&&a.map((e,a)=>{let t=o===e.href;return(0,n.jsxs)("div",{className:"ml-4",children:[!e.subMenus&&(0,n.jsx)(l(),{href:e.href,className:"flex items-center mx-3 py-2 transition-colors duration-300 transform rounded-lg hover:bg-primary/50 hover:text-gray-200 ".concat(t&&"border-b-2 border-primary text-primary bg-white/50"),children:(0,n.jsx)("span",{className:"mx-2 text-sm font-medium",children:e.name})}),e.subMenus&&f({subMenus:e.subMenus,name:e.name,icon:e.icon,slug:e.slug,index:a,pathname:o,openMenus:c})]},a)})]})},i)};var p=()=>{let[e,a]=(0,m.useState)(!1),[t,r]=(0,m.useState)([]),s=(0,c.useRouter)(),i=(0,c.usePathname)(),u=e=>{for(let a of e){if(a.href===i){let e=null==i?void 0:i.split("/");e.splice(0,1),r(e)}a.subMenus&&u(a.subMenus)}};(0,m.useEffect)(()=>(u(o.Z),()=>{}),[i]);let p=async()=>{a(!0),h.Z.remove("token"),h.Z.remove("role"),s.push("/"),a(!1)};return(0,n.jsxs)("aside",{className:"flex flex-col w-64 h-screen px-5 overflow-y-auto",children:[(0,n.jsx)("div",{className:"flex items-center mt-2 gap-2 justify-center",children:(0,n.jsx)("div",{className:"relative h-[75px] w-20",children:(0,n.jsx)(d(),{alt:"logo",fill:!0,sizes:"(100vw, 100vh)",style:{objectFit:"contain",objectPosition:"center",width:"100%",height:"100%"},src:"/images/uogp.png"})})}),(0,n.jsx)("div",{className:"mt-4 mb-2 mx-auto",children:(0,n.jsx)("span",{className:"px-3 text-sm font-semibold text-black uppercasetext-gray-400",children:"Menu"})}),(0,n.jsxs)("div",{className:"flex flex-col justify-between flex-1 pt-2 border-t",children:[(0,n.jsx)("nav",{className:"-mx-3 space-y-6 ",children:(0,n.jsx)("div",{className:"space-y-3 text-slate-800",children:o.Z.map((e,a)=>{let{name:r,href:s,icon:o,subMenus:c,slug:u}=e,d=i===s;return c?f({subMenus:c,name:r,icon:o,slug:u,index:a,pathname:i,openMenus:t}):(0,n.jsx)("div",{children:(0,n.jsxs)(l(),{href:s,className:"flex items-center px-3 py-2 transition-colors duration-300 transform rounded-lg hover:bg-primary/50 hover:text-gray-200 ".concat(d&&"border-b-2 border-primary text-primary bg-white/50"),children:[(0,n.jsx)("span",{children:o}),(0,n.jsx)("span",{className:"mx-2 text-sm font-medium",children:r})]})},a)})})}),(0,n.jsx)("div",{children:e?(0,n.jsx)("p",{children:"Loading..."}):(0,n.jsx)("button",{onClick:p,className:"flex items-center px-3 py-2 transition-colors duration-300 transform rounded-lg text-primary hover:underline hover:text-gray-200",children:(0,n.jsx)("span",{children:"Sign Out"})})})]})]})},x=t(4406),g=t(8136),j=t(5366),v=e=>{let[a,t]=(0,m.useState)(!0),[i,l]=(0,m.useState)(!1),o=(0,c.usePathname)(),u=(0,c.useRouter)(),{cekToken:d}=(0,x.Z)(),h=async()=>{var e;let a=await d();if(null==a?void 0:a.error)u.push("/");else{let{user:t}=null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.data;console.log({user:t}),"pegawai"===t.hak&&u.push("pegawai")}return a};(0,m.useEffect)(()=>(h(),l(!1),()=>{}),[o]);let f=async()=>{let e=await h();(null==e?void 0:e.error)||t(!1)};return((0,m.useEffect)(()=>(f(),console.log("pertama render"),()=>{}),[]),a)?(0,n.jsx)("div",{className:"flex min-h-screen h-screen justify-center items-center",children:(0,n.jsx)(s.Z,{})}):(0,n.jsx)(j.Z,{children:(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex min-h-screen h-screen text-black bg-bg",children:[(0,n.jsx)("aside",{className:"w-[18rem] z-50 lg:block ".concat(i?"block absolute bg-bg":"hidden"),children:(0,n.jsx)(p,{})}),(0,n.jsxs)("div",{className:"flex h-full w-full overflow-hidden p-1 rounded-lg flex-col",children:[(0,n.jsxs)("div",{className:"mb-1 flex items-center justify-between lg:-mx-4 lg:-mt-2 lg:block",children:[(0,n.jsx)(r.Z,{}),(0,n.jsx)("div",{className:"lg:hidden mr-2 text-xl cursor-pointer",onClick:()=>{l(!i)},children:(0,n.jsx)(g.vSj,{})})]}),(0,n.jsx)("div",{className:"bg-white h-full overflow-hidden p-2 drop-shadow-2xl shadow-black rounded-lg",children:e.children})]})]})})})}},6639:function(e,a,t){"use strict";var n=t(9268);a.Z=()=>(0,n.jsxs)("div",{className:"backdrop-blur-sm py-2",children:[(0,n.jsx)("h4",{className:"text-gray-700 font-semibold text-center hidden lg:block",children:"Bidang SDM Universitas Ottow Geissler"}),(0,n.jsx)("h6",{className:"text-gray-700 font-semibold text-start lg:hidden",children:"Bidang SDM UOGP"})]})},593:function(e,a,t){"use strict";var n=t(9268);t(6006),a.Z=()=>(0,n.jsx)("div",{children:"Loading..."})},9032:function(e,a,t){"use strict";t.d(a,{l:function(){return i}});var n=t(9268),r=t(8136);let s=[{name:"Home",href:"/admin",icon:(0,n.jsx)(r.ufG,{})},{name:"Tata Usaha",href:"#",slug:"tata-usaha",icon:(0,n.jsx)(r._19,{}),subMenus:[{name:"Jenis",href:"/admin/tata-usaha/jenis"},{name:"Surat Masuk",href:"/admin/tata-usaha/surat/masuk"},{name:"Surat Keluar",href:"/admin/tata-usaha/surat/keluar"},{name:"Dokumen Lainnya",href:"/admin/tata-usaha/dokumen"}]},{name:"Pangkat",href:"/admin/pangkat",icon:(0,n.jsx)(r.FaF,{})},{name:"Jabatan",href:"/admin/jabatan",icon:(0,n.jsx)(r.YNX,{})},{name:"Personalia",href:"#",slug:"personalia",icon:(0,n.jsx)(r.pZ5,{}),subMenus:[{name:"Pegawai",href:"#",slug:"pegawai",subMenus:[{name:"Dosen",href:"/admin/personalia/pegawai/dosen"},{name:"Tendik",href:"/admin/personalia/pegawai/tendik"},{name:"Pekarya",href:"/admin/personalia/pegawai/pekarya"}]},{name:"Riwayat",href:"#",slug:"riwayat",subMenus:[{name:"Jabatan",href:"/admin/personalia/riwayat/jabatan"},{name:"Pendidikan",href:"/admin/personalia/riwayat/pendidikan"},{name:"Pekerjaan",href:"/admin/personalia/riwayat/pekerjaan"}]},{name:"Dokumen",href:"/admin/personalia/dokumen"}]}],i=[{name:"Home",href:"/pegawai",icon:(0,n.jsx)(r.ufG,{})},{name:"Riwayat",href:"#",slug:"riwayat",icon:(0,n.jsx)(r._19,{}),subMenus:[{name:"Jabatan",href:"/pegawai/riwayat/jabatan"},{name:"Pendidikan",href:"/pegawai/riwayat/pendidikan"},{name:"Pekerjaan",href:"/pegawai/riwayat/pekerjaan"}]},{name:"Dokumen",href:"/pegawai/dokumen",icon:(0,n.jsx)(r.FaF,{})},{name:"Akun",href:"/pegawai/akun",icon:(0,n.jsx)(r.B2N,{})}];a.Z=s},5366:function(e,a,t){"use strict";t.d(a,{N:function(){return i}});var n=t(9268),r=t(6006),s=t(1712);let i=(0,r.createContext)({role:null});a.Z=e=>{let{children:a}=e,[t,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=s.Z.get("role");return l(e||null),()=>{l(null)}},[]),(0,n.jsx)(i.Provider,{value:{role:t},children:a})}},3415:function(e,a,t){"use strict";t.d(a,{I8:function(){return s},Sj:function(){return i},_n:function(){return r},hi:function(){return l}});var n=t(5953);let r="https://back.nathan-fst.my.id",s=n.Z.create({baseURL:"".concat(r,"/auth")}),i=n.Z.create({baseURL:"".concat(r,"/crud")}),l=n.Z.create({baseURL:"".concat(r,"/api")});n.Z.create({baseURL:"".concat(r,"/storage")})},4406:function(e,a,t){"use strict";var n=t(2561),r=t(4475),s=t(3415),i=t(1712);let l=(0,n.Ue)((0,r.mW)((e,a)=>({dtLogin:[],setToken:async()=>{let e=i.Z.get("token");return e},setLogin:async e=>{try{let a=await (0,s.I8)({method:"post",url:"/login",data:e});return{status:"success",data:a.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let t=await a().setToken();try{let a=await (0,s.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(t)}});return e(e=>({...e,dtLogin:a.data.data})),{status:"success",data:a.data}}catch(e){return{status:"error",error:e.response.data}}},setUpdate:async(t,n)=>{try{let r=await a().setToken(),i=await (0,s.I8)({method:"post",url:"/update/".concat(t),headers:{Authorization:"Bearer ".concat(r)},data:n});return e(e=>({...e,dtLogin:i.data.data})),{status:"success",data:i.data}}catch(e){return console.log(e.response.data),{status:"error",data:e.response.data}}}})));a.Z=l},6008:function(e,a,t){e.exports=t(4e3)},3270:function(e,a,t){"use strict";t.d(a,{w_:function(){return o}});var n=t(6006),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=n.createContext&&n.createContext(r),i=function(){return(i=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e}).apply(this,arguments)},l=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>a.indexOf(n)&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>a.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]]);return t};function o(e){return function(a){return n.createElement(c,i({attr:i({},e.attr)},a),function e(a){return a&&a.map(function(a,t){return n.createElement(a.tag,i({key:t},a.attr),e(a.child))})}(e.child))}}function c(e){var a=function(a){var t,r=e.attr,s=e.size,o=e.title,c=l(e,["attr","size","title"]),u=s||a.size||"1em";return a.className&&(t=a.className),e.className&&(t=(t?t+" ":"")+e.className),n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,c,{className:t,style:i(i({color:e.color||a.color},a.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&n.createElement("title",null,o),e.children)};return void 0!==s?n.createElement(s.Consumer,null,function(e){return a(e)}):a(r)}}},function(e){e.O(0,[6680,3674,6394,5846,9253,7698,1744],function(){return e(e.s=787)}),_N_E=e.O()}]);