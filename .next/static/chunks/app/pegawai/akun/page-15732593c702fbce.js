(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3926],{1230:function(e,t,s){Promise.resolve().then(s.bind(s,8919)),Promise.resolve().then(s.bind(s,2589))},2589:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(9268),r=s(366),n=s(2985),i=s(9442),o=s(6006),l=s(9700);s(6760);var d=e=>{let{register:t,errors:s,control:r,watch:i,setValue:o,dtLogin:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Z,{label:"Email",name:"email",register:t,required:!0,minLength:3,errors:s.email,type:"email",addClass:"col-span-4 lg:col-span-3"}),(0,a.jsx)(n.Z,{label:"Password",name:"password",register:t,required:!0,minLength:3,errors:s.password,type:"password",addClass:"col-span-4 lg:col-span-3"}),(0,a.jsx)(n.Z,{label:"Konfirmasi Password",name:"confirmPwd",register:t,required:!0,minLength:3,errors:s.confirmPwd,type:"password",addClass:"col-span-4 lg:col-span-3"})]})},c=s(593),u=s(4406),m=s(6110),p=s(8039),h=e=>{let{}=e,{cekToken:t,dtLogin:s}=(0,u.Z)();(0,o.useEffect)(()=>(t(),()=>{}),[t]);let[h,x]=(0,o.useState)(!1),{setUpdate:f}=(0,u.Z)(),g=p.Ry().shape({password:p.Z_().min(3,"Password harus lebih dari 3 karakter"),confirmPwd:p.Z_().oneOf([p.iH("password")],"Konfirmasi Password tidak sama"),email:p.Z_().email("Email tidak valid")}),{register:v,handleSubmit:w,setValue:k,control:b,formState:{errors:y},watch:j}=(0,l.cI)({resolver:(0,m.X)(g)}),Z=()=>{var e;k("email",null==s?void 0:null===(e=s.user)||void 0===e?void 0:e.email),k("password",""),k("confirmPwd","")};(0,o.useEffect)(()=>{Z()},[s]);let N=async e=>{var a;let r=null==s?void 0:null===(a=s.user)||void 0===a?void 0:a.id;x(!0),console.log({row:e});let{data:n}=await f(r,e);console.log({data:n}),(0,i.Z)({event:n}),(null==n?void 0:n.type)!=="success"||Z(),t(),setTimeout(()=>{x(!1)},1500)};return(0,a.jsxs)("form",{onSubmit:w(N),children:[(0,a.jsx)(n.Z,{name:"id",register:v,type:"hidden"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2 mb-4",children:(0,a.jsx)(d,{register:v,errors:y,control:b,watch:j,setValue:k,dtLogin:s})}),(0,a.jsx)("div",{children:h?(0,a.jsx)(c.Z,{}):(0,a.jsx)(r.Z,{text:"Simpan",onClick:w(N)})})]})}},366:function(e,t,s){"use strict";var a=s(9268);s(6006),t.Z=e=>{let{text:t,onClick:s,addClass:r}=e;return(0,a.jsx)("button",{onClick:s,className:"bg-primary rounded-lg px-4 py-2 text-white w-fit cursor-pointer hover:shadow-sm hover:shadow-primary ".concat(r),children:t})}},2985:function(e,t,s){"use strict";var a=s(9268),r=s(6006),n=s(8136);t.Z=e=>{let{label:t,register:s,required:i,name:o,minLength:l,maxLength:d,errors:c,valueAsNumber:u,type:m="text",readOnly:p,placeholder:h,autoComplete:x="on",addClass:f,value:g,defaultValue:v}=e,[w,k]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:f,children:[(0,a.jsx)("label",{htmlFor:o,className:"text-sm font-medium text-gray-700 tracking-wide",children:t}),i&&(0,a.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",type:"password"===m?w?"text":"password":m,id:o,readOnly:p,placeholder:h,autoComplete:x,...s(o,{required:i,minLength:l,maxLength:d,valueAsNumber:u}),value:g,defaultValue:v}),"password"===m&&(0,a.jsx)("div",{className:"absolute right-2 top-0 flex items-center h-full cursor-pointer text-blue-600",onClick:()=>{k(!w)},children:w?(0,a.jsx)(n.rCC,{size:20}):(0,a.jsx)(n.I$m,{size:20})})]}),(null==c?void 0:c.type)==="required"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]}),(null==c?void 0:c.type)==="minLength"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",l," karakter"]}),(null==c?void 0:c.type)==="maxLength"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",d," karakter"]}),(null==c?void 0:c.type)==="pattern"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," hanya boleh angka."]}),(null==c?void 0:c.message)&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[null==c?void 0:c.message,"."]})]})}},593:function(e,t,s){"use strict";var a=s(9268);s(6006),t.Z=()=>(0,a.jsx)("div",{children:"Loading..."})},3415:function(e,t,s){"use strict";s.d(t,{I8:function(){return n},Sj:function(){return i},_n:function(){return r},hi:function(){return o}});var a=s(5953);let r="https://back.nathan-fst.my.id",n=a.Z.create({baseURL:"".concat(r,"/auth")}),i=a.Z.create({baseURL:"".concat(r,"/crud")}),o=a.Z.create({baseURL:"".concat(r,"/api")});a.Z.create({baseURL:"".concat(r,"/storage")})},4406:function(e,t,s){"use strict";var a=s(2561),r=s(4475),n=s(3415),i=s(1712);let o=(0,a.Ue)((0,r.mW)((e,t)=>({dtLogin:[],setToken:async()=>{let e=i.Z.get("token");return e},setLogin:async e=>{try{let t=await (0,n.I8)({method:"post",url:"/login",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let s=await t().setToken();try{let t=await (0,n.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(s)}});return e(e=>({...e,dtLogin:t.data.data})),{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setUpdate:async(s,a)=>{try{let r=await t().setToken(),i=await (0,n.I8)({method:"post",url:"/update/".concat(s),headers:{Authorization:"Bearer ".concat(r)},data:a});return e(e=>({...e,dtLogin:i.data.data})),{status:"success",data:i.data}}catch(e){return console.log(e.response.data),{status:"error",data:e.response.data}}}})));t.Z=o},9442:function(e,t,s){"use strict";var a=s(8919);t.Z=e=>{let{event:t,position:s}=e;switch(t.type){case"success":a.default.success(t.message,{duration:4e3,position:s});break;case"error":a.default.error(t.message,{duration:4e3,position:s})}}}},function(e){e.O(0,[6680,5678,9700,3088,295,9253,7698,1744],function(){return e(e.s=1230)}),_N_E=e.O()}]);