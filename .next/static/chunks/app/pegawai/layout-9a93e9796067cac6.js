(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{6349:function(a,e,t){Promise.resolve().then(t.bind(t,3315))},3315:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return b}});var r=t(9268),n=t(6006),s=t(4406),i=t(6008),o=t(1712),d=t(593),l=a=>{let[e,t]=(0,n.useState)(!0),l=(0,i.usePathname)(),c=(0,i.useRouter)(),{cekToken:u}=(0,s.Z)(),h=async()=>{let a=await u();if(null==a?void 0:a.error)c.push("/");else{let a=o.Z.get("role");"pegawai"!==a&&c.push("/".concat(a,"/dashboard"))}return a};(0,n.useEffect)(()=>(h(),()=>{}),[l]);let m=async()=>{let a=await h();(null==a?void 0:a.error)||t(!1)};if((0,n.useEffect)(()=>(m(),console.log("pertama render"),()=>{}),[]),e)return(0,r.jsx)("div",{className:"flex min-h-screen h-screen justify-center items-center",children:(0,r.jsx)(d.Z,{})})},c=t(6639),u=t(5846),h=t.n(u),m=t(9032),p=t(6394),g=t.n(p);let f=a=>{let{subMenus:e,name:t,icon:n,slug:s,index:i,pathname:o,openMenus:d}=a,l=d.includes(s);return(0,r.jsx)("div",{children:(0,r.jsxs)("details",{className:"group [&_summary::-webkit-details-marker]:hidden",open:l,children:[(0,r.jsxs)("summary",{className:"flex items-center justify-between px-3 py-2 transition-colors duration-300 transform rounded-lg hover:bg-primary hover:text-gray-200 }",children:[(0,r.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("span",{children:n}),(0,r.jsx)("span",{className:"mx-2 text-sm font-medium",children:t})]}),(0,r.jsx)("span",{className:"shrink-0 transition duration-300 group-open:-rotate-180",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e&&e.map((a,e)=>{let t=o===a.href;return(0,r.jsxs)("div",{className:"ml-4",children:[!a.subMenus&&(0,r.jsx)(h(),{href:a.href,className:"flex items-center mx-3 py-2 transition-colors duration-300 transform rounded-lg hover:bg-primary/50 hover:text-gray-200 ".concat(t&&"border-b-2 border-primary text-primary bg-white/50"),children:(0,r.jsx)("span",{className:"mx-2 text-sm font-medium",children:a.name})}),a.subMenus&&f({subMenus:a.subMenus,name:a.name,icon:a.icon,slug:a.slug,index:e,pathname:o,openMenus:d})]},e)})]})},i)};var x=()=>{let[a,e]=(0,n.useState)(!1),[t,s]=(0,n.useState)([]),d=(0,i.useRouter)(),l=(0,i.usePathname)(),c=a=>{for(let e of a){if(e.href===l){let a=null==l?void 0:l.split("/");a.splice(0,1),s(a)}e.subMenus&&c(e.subMenus)}};(0,n.useEffect)(()=>(c(m.l),()=>{}),[l]);let u=async()=>{e(!0),o.Z.remove("token"),o.Z.remove("role"),d.push("/"),e(!1)};return(0,r.jsxs)("aside",{className:"flex flex-col w-64 h-screen px-5 overflow-y-auto",children:[(0,r.jsx)("div",{className:"flex items-center mt-2 gap-2 justify-center",children:(0,r.jsx)("div",{className:"relative h-[75px] w-20",children:(0,r.jsx)(g(),{alt:"logo",fill:!0,sizes:"(100vw, 100vh)",style:{objectFit:"contain",objectPosition:"center",width:"100%",height:"100%"},src:"/images/uogp.png"})})}),(0,r.jsx)("div",{className:"mt-4 mb-2 mx-auto",children:(0,r.jsx)("span",{className:"px-3 text-sm font-semibold text-black uppercasetext-gray-400",children:"Menu"})}),(0,r.jsxs)("div",{className:"flex flex-col justify-between flex-1 pt-2 border-t",children:[(0,r.jsx)("nav",{className:"-mx-3 space-y-6 ",children:(0,r.jsx)("div",{className:"space-y-3 text-slate-800",children:m.l.map((a,e)=>{let{name:n,href:s,icon:i,subMenus:o,slug:d}=a,c=l===s;return o?f({subMenus:o,name:n,icon:i,slug:d,index:e,pathname:l,openMenus:t}):(0,r.jsx)("div",{children:(0,r.jsxs)(h(),{href:s,className:"flex items-center px-3 py-2 transition-colors duration-300 transform rounded-lg hover:bg-primary/50 hover:text-gray-200 ".concat(c&&"border-b-2 border-primary text-primary bg-white/50"),children:[(0,r.jsx)("span",{children:i}),(0,r.jsx)("span",{className:"mx-2 text-sm font-medium",children:n})]})},e)})})}),(0,r.jsx)("div",{children:a?(0,r.jsx)("p",{children:"Loading..."}):(0,r.jsx)("button",{onClick:u,className:"flex items-center px-3 py-2 transition-colors duration-300 transform rounded-lg text-primary hover:underline hover:text-gray-200",children:(0,r.jsx)("span",{children:"Sign Out"})})})]})]})},w=t(5282),j=t(8136),b=a=>{let[e,t]=(0,n.useState)(!1),s=(0,i.usePathname)();return(0,n.useEffect)(()=>(t(!1),()=>{}),[s]),(0,r.jsxs)("div",{children:[(0,r.jsx)(l,{}),(0,r.jsx)(w.Z,{children:(0,r.jsxs)("div",{className:"flex min-h-screen h-screen text-black bg-bg",children:[(0,r.jsx)("aside",{className:"w-[18rem] z-50 lg:block ".concat(e?"block absolute bg-bg":"hidden"),children:(0,r.jsx)(x,{})}),(0,r.jsxs)("div",{className:"flex h-full w-full overflow-hidden p-1 rounded-lg flex-col",children:[(0,r.jsxs)("div",{className:"mb-1 flex items-center justify-between lg:-mx-4 lg:-mt-2 lg:block",children:[(0,r.jsx)(c.Z,{}),(0,r.jsx)("div",{className:"lg:hidden mr-2 text-xl cursor-pointer",onClick:()=>{t(!e)},children:(0,r.jsx)(j.vSj,{})})]}),(0,r.jsx)("div",{className:"bg-white h-full overflow-hidden p-2 drop-shadow-2xl shadow-black rounded-lg",children:a.children})]})]})})]})}},6639:function(a,e,t){"use strict";var r=t(9268);e.Z=()=>(0,r.jsxs)("div",{className:"backdrop-blur-sm py-2",children:[(0,r.jsx)("h4",{className:"text-gray-700 font-semibold text-center hidden lg:block",children:"Bidang SDM Universitas Ottow Geissler"}),(0,r.jsx)("h6",{className:"text-gray-700 font-semibold text-start lg:hidden",children:"Bidang SDM UOGP"})]})},593:function(a,e,t){"use strict";var r=t(9268);t(6006),e.Z=()=>(0,r.jsx)("div",{children:"Loading..."})},9032:function(a,e,t){"use strict";t.d(e,{l:function(){return i}});var r=t(9268),n=t(8136);let s=[{name:"Home",href:"/admin",icon:(0,r.jsx)(n.ufG,{})},{name:"Tata Usaha",href:"#",slug:"tata-usaha",icon:(0,r.jsx)(n._19,{}),subMenus:[{name:"Jenis",href:"/admin/tata-usaha/jenis"},{name:"Surat Masuk",href:"/admin/tata-usaha/surat/masuk"},{name:"Surat Keluar",href:"/admin/tata-usaha/surat/keluar"},{name:"Dokumen Lainnya",href:"/admin/tata-usaha/dokumen"}]},{name:"Pangkat",href:"/admin/pangkat",icon:(0,r.jsx)(n.FaF,{})},{name:"Jabatan",href:"/admin/jabatan",icon:(0,r.jsx)(n.YNX,{})},{name:"Personalia",href:"#",slug:"personalia",icon:(0,r.jsx)(n.pZ5,{}),subMenus:[{name:"Pegawai",href:"#",slug:"pegawai",subMenus:[{name:"Dosen",href:"/admin/personalia/pegawai/dosen"},{name:"Tendik",href:"/admin/personalia/pegawai/tendik"},{name:"Pekarya",href:"/admin/personalia/pegawai/pekarya"}]},{name:"Riwayat",href:"#",slug:"riwayat",subMenus:[{name:"Jabatan",href:"/admin/personalia/riwayat/jabatan"},{name:"Pendidikan",href:"/admin/personalia/riwayat/pendidikan"},{name:"Pekerjaan",href:"/admin/personalia/riwayat/pekerjaan"}]},{name:"Dokumen",href:"/admin/personalia/dokumen"}]}],i=[{name:"Home",href:"/pegawai",icon:(0,r.jsx)(n.ufG,{})},{name:"Riwayat",href:"#",slug:"riwayat",icon:(0,r.jsx)(n._19,{}),subMenus:[{name:"Jabatan",href:"/pegawai/riwayat/jabatan"},{name:"Pendidikan",href:"/pegawai/riwayat/pendidikan"},{name:"Pekerjaan",href:"/pegawai/riwayat/pekerjaan"}]},{name:"Dokumen",href:"/pegawai/dokumen",icon:(0,r.jsx)(n.FaF,{})},{name:"Akun",href:"/pegawai/akun",icon:(0,r.jsx)(n.B2N,{})}];e.Z=s},5282:function(a,e,t){"use strict";t.d(e,{T:function(){return o}});var r=t(9268),n=t(6006),s=t(1712),i=t(8468);let o=(0,n.createContext)({showPegawai:null});e.Z=a=>{let{children:e}=a,t=parseInt(s.Z.get("user_id")),{setShowPegawai:d,showPegawai:l}=(0,i.Z)();return(0,n.useEffect)(()=>(d(t),()=>{d(0)}),[t,d]),(0,r.jsx)(o.Provider,{value:{showPegawai:l},children:e})}},3415:function(a,e,t){"use strict";t.d(e,{I8:function(){return s},Sj:function(){return i},_n:function(){return n},hi:function(){return o}});var r=t(5953);let n="https://back.nathan-fst.my.id",s=r.Z.create({baseURL:"".concat(n,"/auth")}),i=r.Z.create({baseURL:"".concat(n,"/crud")}),o=r.Z.create({baseURL:"".concat(n,"/api")});r.Z.create({baseURL:"".concat(n,"/storage")})},4406:function(a,e,t){"use strict";var r=t(2561),n=t(4475),s=t(3415),i=t(1712);let o=(0,r.Ue)((0,n.mW)((a,e)=>({dtLogin:[],setToken:async()=>{let a=i.Z.get("token");return a},setLogin:async a=>{try{let e=await (0,s.I8)({method:"post",url:"/login",data:a});return{status:"success",data:e.data}}catch(a){return{status:"error",error:a.response.data}}},cekToken:async()=>{let t=await e().setToken();try{let e=await (0,s.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(t)}});return a(a=>({...a,dtLogin:e.data.data})),{status:"success",data:e.data}}catch(a){return{status:"error",error:a.response.data}}},setUpdate:async(t,r)=>{try{let n=await e().setToken(),i=await (0,s.I8)({method:"post",url:"/update/".concat(t),headers:{Authorization:"Bearer ".concat(n)},data:r});return a(a=>({...a,dtLogin:i.data.data})),{status:"success",data:i.data}}catch(a){return console.log(a.response.data),{status:"error",data:a.response.data}}}})));e.Z=o},8468:function(a,e,t){"use strict";var r=t(2561),n=t(4475),s=t(3415),i=t(4406);let o=(0,r.Ue)((0,n.mW)((a,e)=>({setFormData:a=>{let e=new FormData;return e.append("pangkat_id",a.pangkat_id),e.append("tipe",a.tipe),e.append("NIK",a.NIK),e.append("NIDN",a.NIDN),e.append("nama",a.nama),e.append("tempat_lahir",a.tempat_lahir),e.append("tgl_lahir",a.tgl_lahir),e.append("no_hp",a.no_hp),e.append("jumlah_anak",a.jumlah_anak),e.append("jenkel",a.jenkel),e.append("pend_terakhir",a.pend_terakhir),e.append("alamat",a.alamat),e.append("thn_terima",a.thn_terima),e.append("foto",a.foto),e},dtPegawai:[],showPegawai:[],setPegawai:async e=>{let{page:t=1,limit:r=10,search:n,tipe:o}=e;try{let e=await i.Z.getState().setToken(),d=await (0,s.Sj)({method:"get",url:"/personalia/pegawai",headers:{Authorization:"Bearer ".concat(e)},params:{limit:r,page:t,search:n,tipe:o}});return a(a=>({...a,dtPegawai:d.data.data})),{status:"berhasil",data:d.data}}catch(a){var d;return{status:"error",error:null===(d=a.response)||void 0===d?void 0:d.data}}},setShowPegawai:async e=>{try{let t=await i.Z.getState().setToken(),r=await (0,s.Sj)({method:"get",url:"/personalia/pegawai/".concat(e),headers:{Authorization:"Bearer ".concat(t)}});return a(a=>({...a,showPegawai:r.data.data})),{status:"berhasil",data:r.data}}catch(a){var t;return{status:"error",error:null===(t=a.response)||void 0===t?void 0:t.data}}},addData:async t=>{let r=(null==t?void 0:t.foto)?e().setFormData(t):t;try{let e=await i.Z.getState().setToken(),t=await (0,s.Sj)({method:"post",url:"/personalia/pegawai",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"},data:r});return a(a=>({dtPegawai:{last_page:a.dtPegawai.last_page,current_page:a.dtPegawai.current_page,data:[t.data.data,...a.dtPegawai.data]}})),{status:"berhasil tambah",data:t.data}}catch(a){return{status:"error",data:a.response.data}}},removeData:async e=>{try{let t=await i.Z.getState().setToken(),r=await (0,s.Sj)({method:"delete",url:"/personalia/pegawai/".concat(e),headers:{Authorization:"Bearer ".concat(t)}});return a(a=>({dtPegawai:{last_page:a.dtPegawai.last_page,current_page:a.dtPegawai.current_page,data:a.dtPegawai.data.filter(a=>a.id!==e)}})),{status:"berhasil hapus",data:r.data}}catch(a){return{status:"error",data:a.response.data}}},updateData:async(t,r)=>{delete r.id;let n=(null==r?void 0:r.foto)?e().setFormData(r):r,o=await i.Z.getState().setToken();try{let e=await (0,s.Sj)({url:"/personalia/pegawai/".concat(t),method:"post",headers:(null==r?void 0:r.foto)?{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(o)}:{Authorization:"Bearer ".concat(o)},data:n,params:{_method:"PUT"}});return a(a=>({dtPegawai:{last_page:a.dtPegawai.last_page,current_page:a.dtPegawai.current_page,data:a.dtPegawai.data.map(a=>a.id===t?{...a,...e.data.data}:a)}})),{status:"berhasil update",data:e.data}}catch(a){return{status:"error",data:a.response.data}}}})));e.Z=o}},function(a){a.O(0,[6680,3674,6394,6380,9253,7698,1744],function(){return a(a.s=6349)}),_N_E=a.O()}]);