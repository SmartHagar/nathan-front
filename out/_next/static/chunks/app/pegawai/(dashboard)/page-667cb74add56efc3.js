(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3486],{8260:function(a,t,e){Promise.resolve().then(e.bind(e,9628))},9628:function(a,t,e){"use strict";e.r(t),e.d(t,{default:function(){return x}});var r=e(9268),n=e(6006),s=e(5282),d=e(6394),i=e.n(d),l=e(3415),o=e(5326),c=e.n(o),u=e(2561),h=e(4475);let p=(0,u.Ue)((0,h.mW)((a,t)=>({dtRiwayatJabatan:[],setRiwayatJabatan:async t=>{try{let e=await (0,l.hi)({method:"get",url:"/personalia/riwayat/jabatan/".concat(t)});return a(a=>{var t;return{...a,dtRiwayatJabatan:null===(t=e.data)||void 0===t?void 0:t.data}}),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}}}))),m=(0,u.Ue)((0,h.mW)((a,t)=>({dtRiwayatPendidikan:[],setRiwayatPendidikan:async t=>{try{let e=await (0,l.hi)({method:"get",url:"/personalia/riwayat/pendidikan/".concat(t)});return a(a=>{var t;return{...a,dtRiwayatPendidikan:null===(t=e.data)||void 0===t?void 0:t.data}}),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}}}))),j=(0,u.Ue)((0,h.mW)((a,t)=>({dtRiwayatPekerjaan:[],setRiwayatPekerjaan:async t=>{try{let e=await (0,l.hi)({method:"get",url:"/personalia/riwayat/pekerjaan/".concat(t)});return a(a=>{var t;return{...a,dtRiwayatPekerjaan:null===(t=e.data)||void 0===t?void 0:t.data}}),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}}})));var w=a=>{let{text:t,onClick:e}=a;return(0,r.jsx)("button",{onClick:e,className:"bg-secondary rounded-lg px-4 py-2 text-white w-fit cursor-pointer hover:shadow-sm hover:shadow-secondary",children:t})},x=a=>{let{showPegawai:t}=(0,n.useContext)(s.T),{setRiwayatJabatan:e,dtRiwayatJabatan:d}=p(),{setRiwayatPendidikan:o,dtRiwayatPendidikan:u}=m(),{setRiwayatPekerjaan:h,dtRiwayatPekerjaan:x}=j(),v=async()=>{await e(null==t?void 0:t.id)},g=async()=>{await o(null==t?void 0:t.id)},f=async()=>{await h(null==t?void 0:t.id)};return(0,n.useEffect)(()=>(v(),g(),f(),()=>{}),[null==t?void 0:t.id]),(0,r.jsx)("section",{className:"text-gray-600 body-font h-full overflow-auto",children:(0,r.jsxs)("div",{className:"container mx-auto flex px-5 pt-14 pb-4 md:flex-row flex-col items-center  h-full",children:[(0,r.jsx)("div",{className:"lg:max-w-xs md:w-1/2 w-5/6 mb-10 md:mb-0",children:(null==t?void 0:t.foto)&&(0,r.jsx)(i(),{className:"object-cover object-center rounded",alt:"hero",src:"".concat(l._n,"/").concat(t.foto),width:300,height:100})}),(0,r.jsxs)("div",{className:"lg:flex-grow md:w-1/2 md:pl-16 flex flex-col md:text-left h-full",children:[(0,r.jsx)("h3",{className:"",children:null==t?void 0:t.nama}),(0,r.jsxs)("div",{className:" overflow-auto my-6",children:[(0,r.jsx)("table",{cellPadding:4,children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"NIK"}),(0,r.jsx)("td",{className:"pl-2",children:":"}),(0,r.jsx)("td",{children:null==t?void 0:t.NIK})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Tempat, Tgl. Lahir"}),(0,r.jsx)("td",{className:"pl-2",children:":"}),(0,r.jsxs)("td",{children:[null==t?void 0:t.tempat_lahir,","," ",c()(null==t?void 0:t.tgl_lahir).format("DD-MM-YYYY")]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"No. HP"}),(0,r.jsx)("td",{className:"pl-2",children:":"}),(0,r.jsx)("td",{children:null==t?void 0:t.no_hp})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Jumlah anak"}),(0,r.jsx)("td",{className:"pl-2",children:":"}),(0,r.jsx)("td",{children:null==t?void 0:t.jumlah_anak})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Jenis Kelamin"}),(0,r.jsx)("td",{className:"pl-2",children:":"}),(0,r.jsx)("td",{children:null==t?void 0:t.jenkel})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Pendidikan Terakhir"}),(0,r.jsx)("td",{className:"pl-2",children:":"}),(0,r.jsx)("td",{children:null==t?void 0:t.pend_terakhir})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Alamat"}),(0,r.jsx)("td",{className:"pl-2",children:":"}),(0,r.jsx)("td",{children:null==t?void 0:t.alamat})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Tahun Masuk"}),(0,r.jsx)("td",{className:"pl-2",children:":"}),(0,r.jsx)("td",{children:null==t?void 0:t.thn_terima})]})]})}),(0,r.jsx)("h4",{className:"mt-8 mb-2",children:"Riwayat Jabatan"}),(0,r.jsx)("div",{children:d&&(null==d?void 0:d.map((a,t)=>{var e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"pr-2",children:null==a?void 0:null===(e=a.jabatan)||void 0===e?void 0:e.nama}),(0,r.jsxs)("span",{children:[c()(null==a?void 0:a.mulai).format("YYYY")," sampai"," ",c()(null==a?void 0:a.seles).format("YYYY")]})]},t)}))}),(0,r.jsx)("h4",{className:"mt-8 mb-2",children:"Riwayat Pendidikan"}),(0,r.jsx)("div",{children:u&&(null==u?void 0:u.map((a,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"pr-2",children:null==a?void 0:a.jenjang}),(0,r.jsx)("span",{className:"pr-2",children:null==a?void 0:a.instansi}),(0,r.jsxs)("span",{children:[c()(null==a?void 0:a.mulai).format("YYYY")," sampai"," ",c()(null==a?void 0:a.seles).format("YYYY")]})]},t)))}),(0,r.jsx)("h4",{className:"mt-8 mb-2",children:"Riwayat Pekerjaan"}),(0,r.jsx)("div",{children:x&&(null==x?void 0:x.map((a,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"pr-2",children:null==a?void 0:a.instansi}),(0,r.jsx)("span",{className:"pr-2",children:null==a?void 0:a.jabatan}),(0,r.jsxs)("span",{children:[c()(null==a?void 0:a.mulai).format("YYYY")," sampai"," ",c()(null==a?void 0:a.seles).format("YYYY")]})]},t)))})]}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(w,{text:"Cetak",onClick:()=>{window.open("".concat(l._n,"/export/biodata/").concat(null==t?void 0:t.id),"_blank")}})})]})]})})}},5282:function(a,t,e){"use strict";e.d(t,{T:function(){return i}});var r=e(9268),n=e(6006),s=e(1712),d=e(8468);let i=(0,n.createContext)({showPegawai:null});t.Z=a=>{let{children:t}=a,e=parseInt(s.Z.get("user_id")),{setShowPegawai:l,showPegawai:o}=(0,d.Z)();return(0,n.useEffect)(()=>(l(e),()=>{l(0)}),[e,l]),(0,r.jsx)(i.Provider,{value:{showPegawai:o},children:t})}},3415:function(a,t,e){"use strict";e.d(t,{I8:function(){return s},Sj:function(){return d},_n:function(){return n},hi:function(){return i}});var r=e(5953);let n="https://nathan.apisparta.my.id",s=r.Z.create({baseURL:"".concat(n,"/auth")}),d=r.Z.create({baseURL:"".concat(n,"/crud")}),i=r.Z.create({baseURL:"".concat(n,"/api")});r.Z.create({baseURL:"".concat(n,"/storage")})},4406:function(a,t,e){"use strict";var r=e(2561),n=e(4475),s=e(3415),d=e(1712);let i=(0,r.Ue)((0,n.mW)((a,t)=>({setToken:async()=>{let a=d.Z.get("token");return a},setLogin:async a=>{try{let t=await (0,s.I8)({method:"post",url:"/login",data:a});return{status:"success",data:t.data}}catch(a){return{status:"error",error:a.response.data}}},cekToken:async()=>{let a=await t().setToken();try{let t=await (0,s.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(a)}});return{status:"success",data:t.data}}catch(a){return{status:"error",error:a.response.data}}}})));t.Z=i},8468:function(a,t,e){"use strict";var r=e(2561),n=e(4475),s=e(3415),d=e(4406);let i=(0,r.Ue)((0,n.mW)((a,t)=>({setFormData:a=>{let t=new FormData;return t.append("pangkat_id",a.pangkat_id),t.append("tipe",a.tipe),t.append("NIK",a.NIK),t.append("NIDN",a.NIDN),t.append("nama",a.nama),t.append("tempat_lahir",a.tempat_lahir),t.append("tgl_lahir",a.tgl_lahir),t.append("no_hp",a.no_hp),t.append("jumlah_anak",a.jumlah_anak),t.append("jenkel",a.jenkel),t.append("pend_terakhir",a.pend_terakhir),t.append("alamat",a.alamat),t.append("thn_terima",a.thn_terima),t.append("foto",a.foto),t},dtPegawai:[],showPegawai:[],setPegawai:async t=>{let{page:e=1,limit:r=10,search:n,tipe:i}=t;try{let t=await d.Z.getState().setToken(),l=await (0,s.Sj)({method:"get",url:"/personalia/pegawai",headers:{Authorization:"Bearer ".concat(t)},params:{limit:r,page:e,search:n,tipe:i}});return a(a=>({...a,dtPegawai:l.data.data})),{status:"berhasil",data:l.data}}catch(a){var l;return{status:"error",error:null===(l=a.response)||void 0===l?void 0:l.data}}},setShowPegawai:async t=>{try{let e=await d.Z.getState().setToken(),r=await (0,s.Sj)({method:"get",url:"/personalia/pegawai/".concat(t),headers:{Authorization:"Bearer ".concat(e)}});return a(a=>({...a,showPegawai:r.data.data})),{status:"berhasil",data:r.data}}catch(a){var e;return{status:"error",error:null===(e=a.response)||void 0===e?void 0:e.data}}},addData:async e=>{let r=(null==e?void 0:e.foto)?t().setFormData(e):e;try{let t=await d.Z.getState().setToken(),e=await (0,s.Sj)({method:"post",url:"/personalia/pegawai",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"multipart/form-data"},data:r});return a(a=>({dtPegawai:{last_page:a.dtPegawai.last_page,current_page:a.dtPegawai.current_page,data:[e.data.data,...a.dtPegawai.data]}})),{status:"berhasil tambah",data:e.data}}catch(a){return{status:"error",data:a.response.data}}},removeData:async t=>{try{let e=await d.Z.getState().setToken(),r=await (0,s.Sj)({method:"delete",url:"/personalia/pegawai/".concat(t),headers:{Authorization:"Bearer ".concat(e)}});return a(a=>({dtPegawai:{last_page:a.dtPegawai.last_page,current_page:a.dtPegawai.current_page,data:a.dtPegawai.data.filter(a=>a.id!==t)}})),{status:"berhasil hapus",data:r.data}}catch(a){return{status:"error",data:a.response.data}}},updateData:async(e,r)=>{delete r.id;let n=(null==r?void 0:r.foto)?t().setFormData(r):r,i=await d.Z.getState().setToken();try{let t=await (0,s.Sj)({url:"/personalia/pegawai/".concat(e),method:"post",headers:(null==r?void 0:r.foto)?{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(i)}:{Authorization:"Bearer ".concat(i)},data:n,params:{_method:"PUT"}});return a(a=>({dtPegawai:{last_page:a.dtPegawai.last_page,current_page:a.dtPegawai.current_page,data:a.dtPegawai.data.map(a=>a.id===e?{...a,...t.data.data}:a)}})),{status:"berhasil update",data:t.data}}catch(a){return{status:"error",data:a.response.data}}}})));t.Z=i}},function(a){a.O(0,[4550,635,9253,7698,1744],function(){return a(a.s=8260)}),_N_E=a.O()}]);